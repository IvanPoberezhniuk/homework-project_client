(this.webpackJsonphomework_react=this.webpackJsonphomework_react||[]).push([[4],{410:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var a=function(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0},c=function(e,t){return"desc"===e?function(e,n){return a(e,n,t)}:function(e,n){return-a(e,n,t)}},o=function(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}},411:function(e,t,n){"use strict";var a=n(23),c=n(420),o=n(428),r=n(372),i=n(1),s=Object(r.a)((function(e){return{visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));t.a=function(e){var t=e.order,n=e.orderBy,r=e.onRequestSort,l=e.headCells,d=s();return Object(i.jsx)(a.y,{children:Object(i.jsxs)(c.a,{children:[l.map((function(e){return!1===e.sortable?Object(i.jsx)(a.w,{children:e.label},e.id):Object(i.jsx)(a.w,{sortDirection:n===e.id&&t,children:Object(i.jsxs)(o.a,{active:n===e.id,direction:n===e.id?t:"asc",onClick:(c=e.id,function(e){r(e,c)}),children:[e.label,n===e.id?Object(i.jsx)("span",{className:d.visuallyHidden,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var c})),Object(i.jsx)(a.w,{})]})})}},429:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(23),o=n(16),r=n(22),i=n(38),s=n(125),l=n(384),d=n(69),b=n(372),u=n(31),j=n(129),p=n(410),h=n(328),O=n(421),m=n(422),f=n(423),g=n(420),x=n(426),w=n(411),C=n(1),v=[{id:"projectName",disablePadding:!0,label:"Project Name"},{id:"startDate",disablePadding:!1,label:"Start Date"},{id:"endDate",disablePadding:!1,label:"End Date"},{id:"status",disablePadding:!1,label:"Status"},{id:"team",disablePadding:!1,label:"Team",sortable:!1}],S=Object(b.a)((function(e){return{actions__container:{alignItems:"center",border:"none",display:"grid",gridTemplateColumns:"58px  58px 58px",gridTemplateRows:"52px",justifyContent:"end"},avatar:{position:"absolute"},avatar__container:{display:"flex",position:"relative"},editIcon:{gridColumnStart:"2"},paginationSelect:{top:0},paper:{borderRadius:0,boxShadow:"none",marginBottom:e.spacing(2),width:"100%"},table:{minWidth:750},teamCell:{alignItems:"center",border:"none",position:"relative"},trashIcon:{gridColumnStart:"3"}}})),I=function(e){var t=e.rows,n=e.isLoading,o=e.isShowOperationsIcons,i=S(),l=Object(r.g)(),d=Object(r.h)(),b=Object(a.useState)("asc"),I=Object(u.a)(b,2),N=I[0],P=I[1],y=Object(a.useState)("projectName"),k=Object(u.a)(y,2),T=k[0],D=k[1],E=Object(a.useState)(10),R=Object(u.a)(E,2),_=R[0],J=R[1],L=Object(a.useState)(0),B=Object(u.a)(L,2),q=B[0],z=B[1],A=function(e){if(!e)return null;var t=new Date(e),n=t.toLocaleDateString("en-US",{month:"long"});return t.getDate()+" "+n+" "+t.getFullYear()},F=_-Math.min(_,t.length-q*_);return Object(C.jsxs)(h.a,{className:i.paper,children:[Object(C.jsxs)(c.x,{children:[n&&Object(C.jsx)(O.a,{}),Object(C.jsxs)(m.a,{className:i.table,"aria-labelledby":"tableTitle","aria-label":"enhanced table",children:[Object(C.jsx)(w.a,{order:N,orderBy:T,onRequestSort:function(e,t){P(T===t&&"asc"===N?"desc":"asc"),D(t)},rowCount:t.length,headCells:v}),Object(C.jsxs)(f.a,{className:i.tableBody,children:[Object(p.b)(t,Object(p.a)(N,T)).slice(q*_,q*_+_).map((function(e,t){var n="enhanced-table-checkbox-".concat(t);return Object(C.jsxs)(g.a,{hover:!0,role:"checkbox",tabIndex:-1,children:[Object(C.jsx)(c.w,{id:n,scope:"row",children:e.projectName}),Object(C.jsx)(c.w,{children:A(e.startDate)||"-"}),Object(C.jsx)(c.w,{children:A(e.finishDate)||"-"}),Object(C.jsx)(c.w,{children:e.status}),Object(C.jsx)(c.w,{className:i.teamCell,children:Object(C.jsxs)("div",{className:i.avatar__container,children:[e.team.slice(0,4).map((function(e,t){return Object(C.jsx)(c.z,{classes:{root:i.avatar},style:{left:16*t+"px"},size:30,children:e.firstName[0].toUpperCase()+e.lastName[0].toUpperCase()},e.userId)})),Object(C.jsx)(j.c,{onClick:function(){l.push("/".concat(s.a.PROJECTS,"/").concat(e.projectId,"/").concat(s.b.TEAM),{background:d,payload:e.team})},className:i.moreIcon,style:{marginLeft:e.team.length&&16*e.team.length+32+"px"}})]})}),Object(C.jsxs)(c.w,{size:"small",className:i.actions__container,children:[!e.startDate&&!e.finishDate&&o&&Object(C.jsx)(j.d,{className:i.startIcon,onClick:function(){l.push("/".concat(s.a.PROJECTS,"/").concat(e.projectId,"/").concat(s.b.START),{background:d,payload:e})}}),e.startDate&&!e.finishDate&&o&&Object(C.jsx)(j.b,{className:i.finishIcon,onClick:function(){l.push("/".concat(s.a.PROJECTS,"/").concat(e.projectId,"/").concat(s.b.FINISH),{background:d,payload:e})}}),o&&Object(C.jsx)(j.a,{className:i.editIcon,onClick:function(){l.push("/".concat(s.a.PROJECTS,"/").concat(e.projectId,"/").concat(s.b.EDIT),{background:d,payload:e})}}),o&&Object(C.jsx)(j.e,{className:i.trashIcon,onClick:function(){l.push("/".concat(s.a.PROJECTS,"/").concat(e.projectId,"/").concat(s.b.DELETE),{background:d,payload:e})}})]})]},"".concat(e.id))})),F>0&&Object(C.jsx)(g.a,{style:{height:64*F},children:Object(C.jsx)(c.w,{colSpan:6})})]})]})]}),Object(C.jsx)(x.a,{rowsPerPageOptions:[5,10,25],component:"div",count:t.length,rowsPerPage:_,page:q,onPageChange:function(e,t){z(t)},onRowsPerPageChange:function(e){J(parseInt(e.target.value,10)),z(0)},classes:{selectIcon:i.paginationSelect}})]})},N=(n(81),Object(b.a)((function(e){return{root:{padding:"0 0 40px 0"},buttonRoot:{minWidth:"220px",textTransform:"none"}}})));t.default=function(){var e=Object(r.g)(),t=Object(r.h)(),n=Object(o.b)(),b=N(),u=Object(o.c)((function(e){return e.projects.list})),j=Object(o.c)((function(e){return e.projects.isLoading})),p=Object(o.c)((function(e){return e.profile.userDTO}));Object(a.useEffect)((function(){n(Object(i.g)())}),[n]);return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(l.a,{container:!0,direction:"row",justifyContent:"space-between",className:b.root,children:[Object(C.jsx)(d.a,{variant:"h5",component:"h1",children:"Projects"}),("admin"===p.role||"manager"===p.role)&&Object(C.jsx)(c.c,{color:"primary",className:b.buttonRoot,onClick:function(){e.push("/".concat(s.a.PROJECTS,"/").concat(s.b.CREATE),{background:t})},children:"Create Project"})]}),("admin"===p.role||"manager"===p.role)&&Object(C.jsx)(I,{rows:u,isLoading:j,isShowOperationsIcons:!0}),("developer"===p.role||"qa"===p.role)&&Object(C.jsx)(I,{rows:u.filter((function(e){if(e.team.filter((function(e){return e.userId===p.id})).length>0)return e})),isLoading:j,isShowOperationsIcons:!1})]})}}}]);
//# sourceMappingURL=4.8176ad62.chunk.js.map